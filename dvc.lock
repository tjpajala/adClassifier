schema: '2.0'
stages:
  preprocessing:
    cmd: python adClassifier/preprocessing.py
    deps:
    - path: adClassifier/preprocessing.py
      md5: ad719e3bc4124204c9d4e8cc412f67f6
      size: 4602
    - path: ad_labeling/completions
      md5: 451f0a094b7f2adc211e946bcf588bcd.dir
      size: 188685
      nfiles: 141
    - path: data/en-US.csv.gz
      md5: 91db71fcf9e67d01771973f2593d24ef
      size: 321141053
    params:
      adClassifier/params.yaml:
        preprocessing:
          data_folder: /Users/tjpajala/PycharmProjects/adClassifier/data
          seed: 42
          test_percent_size: 0.33
          completions_folder: /Users/tjpajala/PycharmProjects/adClassifier/ad_labeling/completions
    outs:
    - path: data/df.parquet.gzip
      md5: 59185a8d11e75a7636040e14e6cf3811
      size: 210146180
    - path: data/df_test.parquet.gzip
      md5: f114c211f4008810ef49991461212c1c
      size: 120266
    - path: data/df_train.parquet.gzip
      md5: 506176871711ac2a72957dda4eed16c3
      size: 210011395
  main_pipeline:
    cmd: python adClassifier/main_pipeline.py
    deps:
    - path: adClassifier/main_pipeline.py
      md5: adee16f88268bf843c4877363be49214
      size: 2013
    - path: data/df_test.parquet.gzip
      md5: f114c211f4008810ef49991461212c1c
      size: 120266
    - path: data/df_train.parquet.gzip
      md5: 506176871711ac2a72957dda4eed16c3
      size: 210011395
    params:
      adClassifier/params.yaml:
        main_pipeline:
          data_folder: /Users/tjpajala/PycharmProjects/adClassifier/data
          df_train_file: df_train.parquet.gzip
          df_test_file: df_test.parquet.gzip
    outs:
    - path: data/df_test_labeled.parquet.gzip
      md5: 19a8b74fd4036f0835adedb06e5afd33
      size: 5922
    - path: data/df_train_labeled.parquet.gzip
      md5: e81a56db43e5ac3286379bd57eca0f80
      size: 3638536
    - path: data/models/label.model
      md5: 661d884100952ad4c6742414ea4fcdcc
      size: 7141
    - path: data/models/randomforest.model
      md5: edb42254b4e4bb931b1953c7396257a1
      size: 53730156
    - path: data/models/vectorizer.model
      md5: 4e7c2b2aa3539500cd9f4deaadf2ca57
      size: 15385557
  labeller_analysis:
    cmd: jupyter nbconvert notebooks/labeller_analysis.ipynb --to html --execute
    deps:
    - path: data/df_test.parquet.gzip
      md5: f114c211f4008810ef49991461212c1c
      size: 120266
    - path: data/df_test_labeled.parquet.gzip
      md5: 19a8b74fd4036f0835adedb06e5afd33
      size: 5922
    - path: data/df_train.parquet.gzip
      md5: 506176871711ac2a72957dda4eed16c3
      size: 210011395
    - path: data/df_train_labeled.parquet.gzip
      md5: e81a56db43e5ac3286379bd57eca0f80
      size: 3638536
    - path: notebooks/labeller_analysis.ipynb
      md5: b8f064f0c59b6017a6f538a35e6c0ce2
      size: 3246978
    params:
      adClassifier/params.yaml:
        notebook:
          data_folder: data
